(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const A=new Date(17876496e5);document.addEventListener("DOMContentLoaded",()=>{O(),setInterval(O,100)});function O(){const t=document.querySelector(".timer__countdown"),e=document.querySelector(".timer__title");if(!t)return;const s=t.querySelector(".timer__days"),r=t.querySelector(".timer__hours"),o=t.querySelector(".timer__minutes"),n=t.querySelector(".timer__seconds");if(!s||!r||!o||!n)return;const c=new Date,_=Number(A)-Number(c),U=Math.abs(_),u=Math.floor(U/1e3),L=Math.floor(u/(3600*24)),w=Math.floor(u%(3600*24)/3600),x=Math.floor(u%3600/60),S=u%60;e&&(e.textContent=_<=0?"–ñ–µ–Ω–∞—Ç—ã —É–∂–µ":"–ù–∞—á–∞–ª–æ —á–µ—Ä–µ–∑");const v=s.querySelector(".timer__number"),C=r.querySelector(".timer__number"),$=o.querySelector(".timer__number"),q=n.querySelector(".timer__number"),N=s.querySelector(".timer__text"),E=r.querySelector(".timer__text"),M=o.querySelector(".timer__text"),P=n.querySelector(".timer__text");v&&N&&(v.textContent=L.toString(),N.textContent=a(L,["–¥–µ–Ω—å","–¥–Ω—è","–¥–Ω–µ–π"])),C&&E&&(C.textContent=l(w),E.textContent=a(w,["—á–∞—Å","—á–∞—Å–∞","—á–∞—Å–æ–≤"])),$&&M&&($.textContent=l(x),M.textContent=a(x,["–º–∏–Ω—É—Ç—É","–º–∏–Ω—É—Ç—ã","–º–∏–Ω—É—Ç"])),q&&P&&(q.textContent=l(S),P.textContent=a(S,["—Å–µ–∫—É–Ω–¥—É","—Å–µ–∫—É–Ω–¥—ã","—Å–µ–∫—É–Ω–¥"]))}function a(t,e){const s=[2,0,1,1,1,2],r=t%100>4&&t%100<20?2:s[Math.min(t%10,5)];return e[r]}function l(t){return t.toString().padStart(2,"0")}const i=document.querySelector.bind(document);function y(){const t=new URLSearchParams(window.location.search),e=r=>t.get(r)??void 0,s=e("scriptURL")||"http://195.161.69.254:3176/api/wedding/answer";return{who:e("who"),plural:e("plural")!==void 0,fool:e("fool")!==void 0,scriptURL:s??"fake"}}const d=t=>new Promise(e=>setTimeout(e,t)),I=i("div.form-buttons"),p=i("button.form-button.good"),g=i("button.form-button.meh"),b=i("button.form-button.bad"),T=i("div.form-loading"),F=i("div.form-success"),j=i("div.form-success-message"),B=i("div.form-success .form-image"),H=i("div.form-error"),J=i("div.form-error-message");K();Z();function K(){const{plural:t,fool:e}=y();p.textContent=`–ö–æ–Ω–µ—á–Ω–æ ${t?"–ø—Ä–∏–µ–¥–µ–º":"–ø—Ä–∏–µ–¥—É"}!`,g.textContent=`–ü–æ–∫–∞ –Ω–µ ${t?"–∑–Ω–∞–µ–º":"–∑–Ω–∞—é"}...`,b.textContent=`–£ ${t?"–Ω–∞—Å":"–º–µ–Ω—è"} –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è ${e?"ü§°":":("}`}function Z(){p.addEventListener("click",()=>f("üòé")),g.addEventListener("click",()=>f("ü§î")),b.addEventListener("click",()=>f("ü§°"))}async function f(t){const{who:e,plural:s,scriptURL:r}=y();if(k(),!r)return D("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ ‚Äî –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞–º");h(T);try{r==="fake"?await d(3e3):await Promise.all([d(1e3),fetch(r,{method:"POST",body:JSON.stringify({who:e??"–¢–∞–π–Ω—ã–π –Ω–µ–∑–Ω–∞–∫–æ–º–µ—Ü",answer:t}),headers:{"Content-Type":"application/json"}})]),j.textContent=o(),B.classList.add(n()),h(F)}catch{D(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ ‚Äî ${s?"–ø–æ–ø—Ä–æ–±—É–π—Ç–µ":"–ø–æ–ø—Ä–æ–±—É–π"} —Å–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é`)}finally{R(T)}function o(){return t==="üòé"?"–ë—É–¥–µ–º –∂–¥–∞—Ç—å!":t==="ü§î"?"–ù–∞–¥–µ–µ–º—Å—è, —á—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è –ø—Ä–∏–µ—Ö–∞—Ç—å!":"–ñ–∞–ª—å, —á—Ç–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è..."}function n(){return t==="üòé"?"happy":t==="ü§î"?"waiting":"sad"}}function k(){p.setAttribute("disabled","true"),g.setAttribute("disabled","true"),b.setAttribute("disabled","true"),R(I)}async function h(t){t.classList.remove("missing"),await d(10),t.classList.remove("hidden")}async function R(t){t.classList.add("hidden"),await d(1e3),t.classList.add("missing")}function D(t){J.textContent=t,h(H)}const m=document.querySelector(".who");if(m){const{who:t}=y();t&&(m.textContent=`${t}!`,m.classList.remove("hidden"))}
